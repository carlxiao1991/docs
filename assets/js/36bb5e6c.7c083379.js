"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[5691],{3494:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>c});var r=s(4848),o=s(8453);const t={sidebar_position:3},d="8.3 \u5e94\u7528\u548c\u793a\u4f8b",l={id:"Template_Application/applications_and_examples",title:"8.3 \u5e94\u7528\u548c\u793a\u4f8b",description:"\u7b2c\u4e09\u65b9\u5e93\u5728RDK\u4e0a\u7684\u5b89\u88c5/\u4ea4\u53c9\u7f16\u8bd1\u548c\u4f7f\u7528",source:"@site/docs/05_Template_Application/03_applications_and_examples.md",sourceDirName:"05_Template_Application",slug:"/Template_Application/applications_and_examples",permalink:"/docs/Template_Application/applications_and_examples",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"8.2 \u63a5\u53e3\u7c7b",permalink:"/docs/Template_Application/interface"},next:{title:"8.4 \u591a\u5a92\u4f53\u7c7b",permalink:"/docs/Template_Application/multimedia"}},i={},c=[{value:"\u7b2c\u4e09\u65b9\u5e93\u5728RDK\u4e0a\u7684\u5b89\u88c5/\u4ea4\u53c9\u7f16\u8bd1\u548c\u4f7f\u7528",id:"\u7b2c\u4e09\u65b9\u5e93\u5728rdk\u4e0a\u7684\u5b89\u88c5\u4ea4\u53c9\u7f16\u8bd1\u548c\u4f7f\u7528",level:2},{value:"\u7f16\u8bd1\u5927\u578b\u7a0b\u5e8f\u8fc7\u7a0b\u4e2d\u63d0\u793a\u7f16\u8bd1\u8fdb\u7a0b\u88abkill\u9519\u8bef\u65e5\u5fd7\u5982\u4f55\u89e3\u51b3\uff1f",id:"\u7f16\u8bd1\u5927\u578b\u7a0b\u5e8f\u8fc7\u7a0b\u4e2d\u63d0\u793a\u7f16\u8bd1\u8fdb\u7a0b\u88abkill\u9519\u8bef\u65e5\u5fd7\u5982\u4f55\u89e3\u51b3",level:2},{value:"\u5982\u4f55\u8fd0\u884cGC4633\u6444\u50cf\u5934\u793a\u4f8b\uff1f",id:"\u5982\u4f55\u8fd0\u884cgc4633\u6444\u50cf\u5934\u793a\u4f8b",level:2},{value:"\u4f7f\u7528rqt_image_view\u67e5\u770bRDK\u53d1\u5e03\u7684RGB888 RAW\u56fe\u5361\u987f\uff0c\u751a\u81f3\u65e0\u6cd5\u63a5\u6536?",id:"\u4f7f\u7528rqt_image_view\u67e5\u770brdk\u53d1\u5e03\u7684rgb888-raw\u56fe\u5361\u987f\u751a\u81f3\u65e0\u6cd5\u63a5\u6536",level:2},{value:"Linux\u955c\u50cf\u662f\u5426\u652f\u6301\u677f\u7aef\u7f16\u8bd1?",id:"linux\u955c\u50cf\u662f\u5426\u652f\u6301\u677f\u7aef\u7f16\u8bd1",level:2},{value:"Linux\u955c\u50cf\u4e0a\u5982\u4f55\u8fd0\u884c\u793a\u4f8b",id:"linux\u955c\u50cf\u4e0a\u5982\u4f55\u8fd0\u884c\u793a\u4f8b",level:2},{value:"\u5982\u4f55\u67e5\u627elaunch\u542f\u52a8\u811a\u672c\u6240\u5728\u8def\u5f84",id:"\u5982\u4f55\u67e5\u627elaunch\u542f\u52a8\u811a\u672c\u6240\u5728\u8def\u5f84",level:2},{value:"\u4ea4\u53c9\u7f16\u8bd1TogetheROS.Bot\u6e90\u7801\u901f\u5ea6\u6162",id:"\u4ea4\u53c9\u7f16\u8bd1togetherosbot\u6e90\u7801\u901f\u5ea6\u6162",level:2},{value:"\u662f\u5426\u652f\u6301\u5b89\u88c5\u4f7f\u7528\u5176\u4ed6\u7248\u672cROS?",id:"\u662f\u5426\u652f\u6301\u5b89\u88c5\u4f7f\u7528\u5176\u4ed6\u7248\u672cros",level:2},{value:"colcon\u7f16\u8bd1\u62a5\u9519",id:"colcon\u7f16\u8bd1\u62a5\u9519",level:2},{value:"\u5982\u4f55\u67e5\u770btros.b\u7248\u672c",id:"\u5982\u4f55\u67e5\u770btrosb\u7248\u672c",level:2},{value:"1.x\u548c2.x\u7248\u672ctros.b\u8bf4\u660e",id:"1x\u548c2x\u7248\u672ctrosb\u8bf4\u660e",level:2},{value:"WEB\u6d4f\u89c8\u5668\u6253\u5f00\u9875\u9762\u5931\u8d25",id:"web\u6d4f\u89c8\u5668\u6253\u5f00\u9875\u9762\u5931\u8d25",level:2},{value:"WEB\u6d4f\u89c8\u5668\u53ea\u663e\u793a\u56fe\u50cf\uff0c\u65e0\u611f\u77e5\u7ed3\u679c\u6e32\u67d3",id:"web\u6d4f\u89c8\u5668\u53ea\u663e\u793a\u56fe\u50cf\u65e0\u611f\u77e5\u7ed3\u679c\u6e32\u67d3",level:2},{value:"TROS Humble\u7248\u672c\u4f7f\u7528\u96f6\u62f7\u8d1d",id:"tros-humble\u7248\u672c\u4f7f\u7528\u96f6\u62f7\u8d1d",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"83-\u5e94\u7528\u548c\u793a\u4f8b",children:"8.3 \u5e94\u7528\u548c\u793a\u4f8b"}),"\n",(0,r.jsx)(n.h2,{id:"\u7b2c\u4e09\u65b9\u5e93\u5728rdk\u4e0a\u7684\u5b89\u88c5\u4ea4\u53c9\u7f16\u8bd1\u548c\u4f7f\u7528",children:"\u7b2c\u4e09\u65b9\u5e93\u5728RDK\u4e0a\u7684\u5b89\u88c5/\u4ea4\u53c9\u7f16\u8bd1\u548c\u4f7f\u7528"}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u9700\u4ea4\u53c9\u7f16\u8bd1\u90e8\u7f72\uff0c\u8bf7\u53c2\u8003",(0,r.jsx)(n.a,{href:"https://developer.d-robotics.cc/forumDetail/112555549341653662",children:"\u4ea4\u53c9\u7f16\u8bd1\u73af\u5883\u90e8\u7f72"})]}),"\n",(0,r.jsx)(n.h2,{id:"\u7f16\u8bd1\u5927\u578b\u7a0b\u5e8f\u8fc7\u7a0b\u4e2d\u63d0\u793a\u7f16\u8bd1\u8fdb\u7a0b\u88abkill\u9519\u8bef\u65e5\u5fd7\u5982\u4f55\u89e3\u51b3",children:"\u7f16\u8bd1\u5927\u578b\u7a0b\u5e8f\u8fc7\u7a0b\u4e2d\u63d0\u793a\u7f16\u8bd1\u8fdb\u7a0b\u88abkill\u9519\u8bef\u65e5\u5fd7\u5982\u4f55\u89e3\u51b3\uff1f"}),"\n",(0,r.jsxs)(n.p,{children:["\u53c2\u8003",(0,r.jsx)(n.a,{href:"https://developer.d-robotics.cc/forumDetail/98129467158916281",children:"Swap\u4f7f\u7528\u6559\u7a0b"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"sudo mkdir -p /swapfile \ncd /swapfile \nsudo dd if=/dev/zero of=swap bs=1M count=1024 \nsudo chmod 0600 swap \nsudo mkswap -f swap \nsudo swapon swap \nfree\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5982\u4f55\u8fd0\u884cgc4633\u6444\u50cf\u5934\u793a\u4f8b",children:"\u5982\u4f55\u8fd0\u884cGC4633\u6444\u50cf\u5934\u793a\u4f8b\uff1f"}),"\n",(0,r.jsx)(n.p,{children:"python\u5df2\u63d0\u4f9b\u57fa\u4e8eF37\u548cGC4663 camera\u7684FCOS\u7b97\u6cd5\u793a\u4f8b\uff0c\u4f1a\u81ea\u52a8\u68c0\u6d4bcamera\u8fdb\u884c\u7b97\u6cd5\u63a8\u7406\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd /app/ai_inference/03_mipi_camera_sample\nsudo python3 mipi_camera.py\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u7136\u540eHDMI\u63a5\u5c4f\u5e55\u53ef\u4ee5\u6e32\u67d3\u56fe\u50cf\u548c\u7b97\u6cd5\u5c55\u793a\u7ed3\u679c\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u4f7f\u7528rqt_image_view\u67e5\u770brdk\u53d1\u5e03\u7684rgb888-raw\u56fe\u5361\u987f\u751a\u81f3\u65e0\u6cd5\u63a5\u6536",children:"\u4f7f\u7528rqt_image_view\u67e5\u770bRDK\u53d1\u5e03\u7684RGB888 RAW\u56fe\u5361\u987f\uff0c\u751a\u81f3\u65e0\u6cd5\u63a5\u6536?"}),"\n",(0,r.jsx)(n.p,{children:"FastDDS\u5728UDP\u534f\u8bae\u5c42\u6ca1\u6709\u5b9e\u73b0MTU\u5206\u7247\uff0c\u5bfc\u81f4IP\u5c42\u8fdb\u884c\u5206\u7247\uff0c\u5f53UDP\u6570\u636e\u8fc7\u5927\u65f6\u7531\u4e8e\u5e38\u89c1\u8def\u7531\u5668\u3001\u7f51\u5361\u5747\u65e0\u6cd5\u7f13\u51b2\u5927\u91cf\u5206\u7247\uff0c\u4e14\u67d0\u4e00\u5206\u7247\u4e22\u5931\u4f1a\u5bfc\u81f4\u91cd\u4f20\u6240\u6709\u5206\u7247\uff0c\u8fdb\u800c\u5f62\u6210IP fragmentation attack\uff0c\u8868\u73b0\u4e3a\u540c\u4e00\u7f51\u6bb5\u673a\u5668\u901a\u4fe1\u5361\u987f\u3002\u66f4\u6362cycloneDDS\uff08\u547d\u4ee4\uff1aexport RMW_IMPLEMENTATION=rmw_cyclonedds_cpp\uff09\uff0c\u6216\u8005\u53d1\u9001\u5c0f\u5206\u8fa8\u7387jpeg\u683c\u5f0f\u56fe\u7247\u964d\u4f4e\u4f20\u8f93\u6570\u636e\u91cf\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"linux\u955c\u50cf\u662f\u5426\u652f\u6301\u677f\u7aef\u7f16\u8bd1",children:"Linux\u955c\u50cf\u662f\u5426\u652f\u6301\u677f\u7aef\u7f16\u8bd1?"}),"\n",(0,r.jsx)(n.p,{children:"Linux\u955c\u50cfrootfs\u7ecf\u8fc7\u6700\u5c0f\u526a\u88c1\uff0c\u65e0\u6cd5\u652f\u6301\u677f\u7aef\u7f16\u8bd1\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"linux\u955c\u50cf\u4e0a\u5982\u4f55\u8fd0\u884c\u793a\u4f8b",children:"Linux\u955c\u50cf\u4e0a\u5982\u4f55\u8fd0\u884c\u793a\u4f8b"}),"\n",(0,r.jsx)(n.p,{children:"\u624b\u518c\u4e2d\u7684\u793a\u4f8b\u662f\u4ee5Ubuntu\u7cfb\u7edf\u4e3e\u4f8b\u4ecb\u7ecd\uff0c\u793a\u4f8b\u7684\u8fd0\u884c\u4f9d\u8d56python\uff0c\u8fd9\u4e9b\u793a\u4f8b\u540c\u6837\u53ef\u4ee5\u8fd0\u884c\u5728\u70e7\u5f55Linux\u955c\u50cf\uff08\u65e0python\uff09\u7684RDK\u4e0a\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ubuntu\u7cfb\u7edf\u548cLinux\u955c\u50cf\u542f\u52a8\u793a\u4f8b\u8bf4\u660e"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u5728Ubuntu\u7cfb\u7edf\u4e2d\uff0c\u542f\u52a8\u4e00\u4e2a\u793a\u4f8b\u5206\u4e3a\u4e09\u6b65\uff1a"}),"\n",(0,r.jsxs)(n.p,{children:["1\u3001\u4f7f\u7528",(0,r.jsx)(n.code,{children:"source /opt/tros/setup.bash"}),"\u547d\u4ee4\u914d\u7f6e",(0,r.jsx)(n.code,{children:"tros.b"}),"\u73af\u5883"]}),"\n",(0,r.jsx)(n.p,{children:"2\u3001\u62f7\u8d1d\u9700\u8981\u7684\u914d\u7f6e\u6587\u4ef6\u5230\u6267\u884c\u8def\u5f84\u4e0b"}),"\n",(0,r.jsxs)(n.p,{children:["3\u3001\u4f7f\u7528",(0,r.jsx)(n.code,{children:"ros2 run"}),"\u6216\u8005",(0,r.jsx)(n.code,{children:"ros2 launch"}),"\u542f\u52a8",(0,r.jsx)(n.code,{children:"tros.b"}),"\u4e2d\u7684package"]}),"\n",(0,r.jsx)(n.p,{children:"\u5728Linux\u955c\u50cf\u4e0a\uff0c\u8fd9\u4e09\u6b65\u5206\u522b\u4e3a\uff1a"}),"\n",(0,r.jsxs)(n.p,{children:["1\u3001\u4f7f\u7528",(0,r.jsx)(n.code,{children:"export LD_LIBRARY_PATH"}),"\u547d\u4ee4\u914d\u7f6e",(0,r.jsx)(n.code,{children:"tros.b"}),"\u73af\u5883\uff1b\u4f7f\u7528",(0,r.jsx)(n.code,{children:"export ROS_LOG_DIR"}),"\u547d\u4ee4\u4fee\u6539\u5b58\u50a8log\u6587\u4ef6\u7684\u8def\u5f84\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"2\u3001\u62f7\u8d1d\u9700\u8981\u7684\u914d\u7f6e\u6587\u4ef6\u5230\u6267\u884c\u8def\u5f84\u4e0b"}),"\n",(0,r.jsx)(n.p,{children:"3\u3001\u542f\u52a8\u793a\u4f8b\u7a0b\u5e8f\uff0c\u5e76\u6307\u5b9a\u542f\u52a8\u53c2\u6570\u3002\u5bf9\u4e8e\u4f7f\u7528C++\u7f16\u5199\u7684package\uff0c\u6bcf\u4e2apackage\u5bf9\u5e94\u4e8e\u4e00\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4e0b\u9762\u4f7f\u7528\u7b97\u6cd5\u63a8\u7406\u793a\u4f8b\u4e3e\u4f8b\uff0c\u8bf4\u660e\u5982\u4f55\u5c06launch\u811a\u672c\u5185\u5bb9\u8f6c\u6362\u6210Linux\u955c\u50cf\u4e0a\u7684\u547d\u4ee4\u3002\u793a\u4f8b\u8f93\u5165\u4e00\u5f20\u672c\u5730\u56fe\u7247\u8fdb\u884c\u63a8\u7406\uff0c\u5f97\u5230\u6e32\u67d3\u540e\u7684\u56fe\u7247\u5e76\u4fdd\u5b58\u5728\u672c\u5730\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ubuntu\u7cfb\u7edf\u4e0a\u542f\u52a8\u547d\u4ee4"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u547d\u4ee4\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \u914d\u7f6etros.b\u73af\u5883\nsource /opt/tros/setup.bash\n\n# \u4ecetros.b\u7684\u5b89\u88c5\u8def\u5f84\u4e2d\u62f7\u8d1d\u51fa\u8fd0\u884c\u793a\u4f8b\u9700\u8981\u7684\u914d\u7f6e\u6587\u4ef6\u3002config\u4e2d\u4e3aexample\u4f7f\u7528\u7684\u6a21\u578b\uff0c\u56de\u704c\u4f7f\u7528\u7684\u672c\u5730\u56fe\u7247\ncp -r /opt/tros/${TROS_DISTRO}/lib/dnn_node_example/config/ .\n\n# \u4f7f\u7528\u672c\u5730jpg\u683c\u5f0f\u56fe\u7247\u8fdb\u884c\u56de\u704c\u9884\u6d4b\uff0c\u5e76\u5b58\u50a8\u6e32\u67d3\u540e\u7684\u56fe\u7247\nros2 launch dnn_node_example dnn_node_example_feedback.launch.py\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"launch\u811a\u672c\u8def\u5f84"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u6b64\u793a\u4f8b\u4f7f\u7528",(0,r.jsx)(n.code,{children:"ros2 launch"}),"\u542f\u52a8\u4e86",(0,r.jsx)(n.code,{children:"dnn_node_example package"}),"\uff0c\u5728RDK\u7684",(0,r.jsx)(n.code,{children:"tros.b"}),"\u5b89\u88c5\u8def\u5f84",(0,r.jsx)(n.code,{children:"/opt/tros/"}),"\u4e2d\u67e5\u627elaunch\u811a\u672c",(0,r.jsx)(n.code,{children:"dnn_node_example_feedback.launch.py"}),"\u6240\u5728\u8def\u5f84\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# find /opt/tros/ -name dnn_node_example_feedback.launch.py\n/opt/tros/share/dnn_node_example/launch/dnn_node_example_feedback.launch.py\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"launch\u811a\u672c\u5185\u5bb9"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["launch\u811a\u672c",(0,r.jsx)(n.code,{children:"dnn_node_example_feedback.launch.py"}),"\u4e3b\u8981\u5185\u5bb9\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def generate_launch_description():\n    config_file_launch_arg = DeclareLaunchArgument(\n        "dnn_example_config_file", default_value=TextSubstitution(text="config/fcosworkconfig.json")\n    )\n\n    img_file_launch_arg = DeclareLaunchArgument(\n        "dnn_example_image", default_value=TextSubstitution(text="config/test.jpg")\n    )\n\n    # \u62f7\u8d1dconfig\u4e2d\u6587\u4ef6\n    dnn_node_example_path = os.path.join(\n        get_package_prefix(\'dnn_node_example\'),\n        "lib/dnn_node_example")\n    print("dnn_node_example_path is ", dnn_node_example_path)\n    cp_cmd = "cp -r " + dnn_node_example_path + "/config ."\n    print("cp_cmd is ", cp_cmd)\n    os.system(cp_cmd)\n\n    return LaunchDescription([\n        config_file_launch_arg,\n        img_file_launch_arg,\n        # \u542f\u52a8\u5355\u76eergb\u4eba\u4f53\u3001\u4eba\u5934\u3001\u4eba\u8138\u3001\u4eba\u624b\u6846\u548c\u4eba\u4f53\u5173\u952e\u70b9\u68c0\u6d4bpkg\n        Node(\n            package=\'dnn_node_example\',\n            executable=\'example\',\n            output=\'screen\',\n            parameters=[\n                {"feed_type": 0},\n                {"config_file": LaunchConfiguration(\n                    \'dnn_example_config_file\')},\n                {"image": LaunchConfiguration(\'dnn_example_image\')},\n                {"image_type": 0},\n                {"dump_render_img": 1}\n            ],\n            arguments=[\'--ros-args\', \'--log-level\', \'info\']\n        )\n    ])\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"launch\u811a\u672c\u8bf4\u660e"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["launch\u811a\u672c\u652f\u6301\u901a\u8fc7\u53c2\u6570",(0,r.jsx)(n.code,{children:"dnn_example_config_file"}),"\u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u9009\u62e9\u8fd0\u884c\u7684\u7b97\u6cd5\uff0c\u53c2\u6570",(0,r.jsx)(n.code,{children:"dnn_example_image"}),"\u6307\u5b9a\u7b97\u6cd5\u63a8\u7406\u4f7f\u7528\u7684\u56fe\u7247\u3002\u793a\u4f8b\u542f\u52a8\u65f6\u672a\u6307\u5b9a\uff0c\u4f7f\u7528\u7684\u662f\u9ed8\u8ba4\u914d\u7f6e\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["launch\u811a\u672c\u4e2d",(0,r.jsx)(n.code,{children:"package"}),"\u53c2\u6570\u6307\u5b9a\u4e86\u542f\u52a8\u7684package\u540d\u4e3a",(0,r.jsx)(n.code,{children:"dnn_node_example"}),"\uff0c",(0,r.jsx)(n.code,{children:"executable"}),"\u53c2\u6570\u6307\u5b9a\u53ef\u6267\u884c\u7a0b\u5e8f\u540d\u4e3a",(0,r.jsx)(n.code,{children:"example"}),"\uff0c",(0,r.jsx)(n.code,{children:"parameters"}),"\u53c2\u6570\u6307\u5b9a\u4e86\u4f20\u7ed9\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u53c2\u6570\u3002ros2 launch\u7684\u8be6\u7ec6\u4f7f\u7528\u8bf4\u660e\u53c2\u8003",(0,r.jsx)(n.a,{href:"http://docs.ros.org/en/foxy/Tutorials/Intermediate/Launch/Launch-Main.html",children:"ROS2\u624b\u518c"}),"\u3002"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"package\u548c\u53ef\u6267\u884c\u7a0b\u5e8f\u8def\u5f84"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728RDK\u7684",(0,r.jsx)(n.code,{children:"tros.b"}),"\u5b89\u88c5\u8def\u5f84",(0,r.jsx)(n.code,{children:"/opt/tros/"}),"\u4e2d\u67e5\u627e\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# find /opt/tros/ -name dnn_node_example -type d\n/opt/tros/lib/dnn_node_example\n/opt/tros/share/dnn_node_example\n\n# ls /opt/tros/lib/dnn_node_example\nconfig  example\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u53ef\u4ee5\u770b\u5230\u53ef\u6267\u884c\u7a0b\u5e8f",(0,r.jsx)(n.code,{children:"example"}),"\u5728",(0,r.jsx)(n.code,{children:"/opt/tros/lib/dnn_node_example"}),"\u8def\u5f84\u4e0b\u3002"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Linux\u955c\u50cf\u4e0a\u542f\u52a8\u53ef\u6267\u884c\u7a0b\u5e8f"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd0\u884c\u4e0a\u4e00\u6b65\u67e5\u627e\u5230\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\uff0c\u5e76\u4e14\u5e26\u4e0alaunch\u811a\u672c\u4e2d",(0,r.jsx)(n.code,{children:"parameters"}),"\u53c2\u6570\uff1a",(0,r.jsx)(n.code,{children:"/opt/tros/lib/dnn_node_example/example --ros-args -p feed_type:=0 -p image_type:=0 -p dump_render_img:=1"}),"\u3002"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5b8c\u6574\u7684Linux\u955c\u50cf\u4e0a\u8fd0\u884c\u793a\u4f8b"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \u914d\u7f6etros.b\u73af\u5883\nexport LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/opt/tros/lib/\nexport ROS_LOG_DIR=/userdata/\n\n# \u4ecetros.b\u7684\u5b89\u88c5\u8def\u5f84\u4e2d\u62f7\u8d1d\u51fa\u8fd0\u884c\u793a\u4f8b\u9700\u8981\u7684\u914d\u7f6e\u6587\u4ef6\u3002config\u4e2d\u4e3aexample\u4f7f\u7528\u7684\u6a21\u578b\uff0c\u56de\u704c\u4f7f\u7528\u7684\u672c\u5730\u56fe\u7247\ncp -r /opt/tros/${TROS_DISTRO}/lib/dnn_node_example/config/ .\n\n# \u4f7f\u7528\u672c\u5730jpg\u683c\u5f0f\u56fe\u7247\u8fdb\u884c\u56de\u704c\u9884\u6d4b\uff0c\u5e76\u5b58\u50a8\u6e32\u67d3\u540e\u7684\u56fe\u7247\n/opt/tros/lib/dnn_node_example/example --ros-args -p feed_type:=0 -p image_type:=0 -p dump_render_img:=1\n"})}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsxs)(n.p,{children:["\u9664\u4e86\u4f7f\u7528\u73af\u5883\u53d8\u91cf",(0,r.jsx)(n.code,{children:"ROS_LOG_DIR"}),"\u8bbe\u7f6elog\u8def\u5f84\u5916\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u542f\u52a8\u53c2\u6570",(0,r.jsx)(n.code,{children:"--ros-args --disable-external-lib-logs"}),"\u7981\u6b62node\u8f93\u51falog\u5230\n\u6587\u4ef6\u3002"]}),(0,r.jsx)(n.p,{children:"\u4f7f\u7528\u4e3e\u4f8b\uff1a"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u914d\u7f6etros.b\u73af\u5883\nexport LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/opt/tros/lib/\n\n# \u4ecetros.b\u7684\u5b89\u88c5\u8def\u5f84\u4e2d\u62f7\u8d1d\u51fa\u8fd0\u884c\u793a\u4f8b\u9700\u8981\u7684\u914d\u7f6e\u6587\u4ef6\u3002config\u4e2d\u4e3aexample\u4f7f\u7528\u7684\u6a21\u578b\uff0c\u56de\u704c\u4f7f\u7528\u7684\u672c\u5730\u56fe\u7247\ncp -r /opt/tros/${TROS_DISTRO}/lib/dnn_node_example/config/ .\n\n# \u4f7f\u7528\u672c\u5730jpg\u683c\u5f0f\u56fe\u7247\u8fdb\u884c\u56de\u704c\u9884\u6d4b\uff0c\u5e76\u5b58\u50a8\u6e32\u67d3\u540e\u7684\u56fe\u7247\n/opt/tros/lib/dnn_node_example/example --ros-args --disable-external-lib-logs --ros-args -p feed_type:=0 -p image_type:=0 -p dump_render_img:=1\n"})}),(0,r.jsxs)(n.p,{children:["\u8be6\u7ec6\u8bf4\u660e\u53c2\u8003",(0,r.jsx)(n.a,{href:"https://docs.ros.org/en/humble/Concepts/Intermediate/About-Logging.html",children:"About-Logging"}),"\u3002"]})]}),"\n",(0,r.jsx)(n.h2,{id:"\u5982\u4f55\u67e5\u627elaunch\u542f\u52a8\u811a\u672c\u6240\u5728\u8def\u5f84",children:"\u5982\u4f55\u67e5\u627elaunch\u542f\u52a8\u811a\u672c\u6240\u5728\u8def\u5f84"}),"\n",(0,r.jsxs)(n.p,{children:["\u624b\u518c\u4e2d\u7684\u793a\u4f8b\u4f7f\u7528",(0,r.jsx)(n.code,{children:"ros2 launch"}),"\u542f\u52a8\u811a\u672c\uff0c\u4f8b\u5982",(0,r.jsx)(n.strong,{children:"Boxs\u7b97\u6cd5\u4ed3\u5e93"}),"\u7ae0\u8282\u4e2d",(0,r.jsx)(n.strong,{children:"\u5de5\u5177\u94fe\u53c2\u8003\u7b97\u6cd5"}),"\u5c0f\u8282\u4f7f\u7528\u7684\u542f\u52a8\u811a\u672c\u6587\u4ef6\u4e3a",(0,r.jsx)(n.code,{children:"dnn_node_example.launch.py"}),"\uff0c\u5f53\u9700\u8981\u4fee\u6539log\u7ea7\u522b\u7b49\u914d\u7f6e\u65f6\uff0c\u9700\u8981\u5148\u5728RDK\u7684",(0,r.jsx)(n.code,{children:"tros.b"}),"\u5b89\u88c5\u8def\u5f84",(0,r.jsx)(n.code,{children:"/opt/tros/"}),"\u4e0b\u67e5\u627e\u6b64\u811a\u672c\u6587\u4ef6\u6240\u5728\u8def\u5f84\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4f8b\u5982\u67e5\u627elaunch\u811a\u672c",(0,r.jsx)(n.code,{children:"dnn_node_example.launch.py"}),"\u6240\u5728\u8def\u5f84\u547d\u4ee4\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# find /opt/tros/ -name dnn_node_example.launch.py\n/opt/tros/share/dnn_node_example/launch/dnn_node_example.launch.py\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u4ea4\u53c9\u7f16\u8bd1togetherosbot\u6e90\u7801\u901f\u5ea6\u6162",children:"\u4ea4\u53c9\u7f16\u8bd1TogetheROS.Bot\u6e90\u7801\u901f\u5ea6\u6162"}),"\n",(0,r.jsx)(n.p,{children:"tros.b\u7684package\u8f83\u591a\uff0c\u6e90\u7801\u7f16\u8bd1\u9700\u8981\u4e00\u4e9b\u65f6\u95f4\uff088\u6838CPU & 32G\u5185\u5b58\u914d\u7f6e\u4e0b\u7f16\u8bd1\u5b8c\u6210\u5927\u6982\u9700\u898120\u5206\u949f\uff09\u3002\u6709\u4e24\u79cd\u52a0\u901f\u65b9\u6cd5\uff1a"}),"\n",(0,r.jsx)(n.p,{children:"1 \u6700\u5c0f\u5316\u7f16\u8bd1"}),"\n",(0,r.jsxs)(n.p,{children:["\u7f16\u8bd1\u811a\u672c\u4e2d\u63d0\u4f9b\u4e86\u4e24\u79cd\u7f16\u8bd1\u65b9\u5f0f\uff0c\u5206\u522b\u4e3a",(0,r.jsx)(n.code,{children:"all_build.sh"}),"\u5b8c\u6574\u7f16\u8bd1\uff08\u624b\u518c\u4ea4\u53c9\u7f16\u8bd1\u7ae0\u8282\u4e2d\u9ed8\u8ba4\u7684\u7f16\u8bd1\u65b9\u5f0f\uff09\u548c",(0,r.jsx)(n.code,{children:"minimal_build.sh"}),"\u6700\u5c0f\u5316\u7f16\u8bd1\u3002\u5176\u4e2d\u6700\u5c0f\u5316\u7f16\u8bd1\u4e0d\u7f16\u8bd1\u7b97\u6cd5\u793a\u4f8b\u548c\u6d4b\u8bd5\u7528\u4f8b\uff0c\u7f16\u8bd1\u901f\u5ea6\u5feb\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4f7f\u7528\u6700\u5c0f\u5316\u7f16\u8bd1\u7684\u65b9\u6cd5\u662f\u5c06\u624b\u518c\u4ea4\u53c9\u7f16\u8bd1\u7ae0\u8282\u4e2d\u914d\u7f6e\u7f16\u8bd1\u9009\u9879\u547d\u4ee4",(0,r.jsx)(n.code,{children:"./robot_dev_config/all_build.sh"}),"\u66ff\u6362\u4e3a",(0,r.jsx)(n.code,{children:"./robot_dev_config/minimal_build.sh"}),"\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"2 \u624b\u52a8\u5ffd\u7565\u7f16\u8bd1\u4e0d\u9700\u8981\u7684package"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728package\u6e90\u7801\u76ee\u5f55\u4e0b\u751f\u6210",(0,r.jsx)(n.code,{children:"COLCON_IGNORE"}),"\u6587\u4ef6\uff0c\u7f16\u8bd1\u7684\u65f6\u5019\u5c06\u4f1a\u5ffd\u7565\u7f16\u8bd1\u6b64package\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4e0b\u8f7d\u4e0b\u6765\u7684package\u6e90\u7801\u76ee\u5f55\u5728",(0,r.jsx)(n.code,{children:"robot_dev_config/ros2_release.repos"}),"\u4e2d\u6307\u5b9a\uff0c\u4f8b\u5982\u4e0b\u8f7d",(0,r.jsx)(n.code,{children:"google_benchmark_vendor"}),"\u65f6\u914d\u7f6e\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"  ament/google_benchmark_vendor:\n    type: git\n    url: https://github.com/ament/google_benchmark_vendor.git\n    version: 0.0.7\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8bf4\u660e",(0,r.jsx)(n.code,{children:"google_benchmark_vendor"})," package\u6e90\u7801\u4e0b\u8f7d\u5728\u4e86",(0,r.jsx)(n.code,{children:"src/ament/google_benchmark_vendor"}),"\u8def\u5f84\u4e0b\uff0c\u56e0\u6b64\u6267\u884c\u547d\u4ee4",(0,r.jsx)(n.code,{children:"touch src/ament/google_benchmark_vendor/COLCON_IGNORE"}),"\u5ffd\u7565",(0,r.jsx)(n.code,{children:"google_benchmark_vendor"})," package\u7684\u7f16\u8bd1\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u662f\u5426\u652f\u6301\u5b89\u88c5\u4f7f\u7528\u5176\u4ed6\u7248\u672cros",children:"\u662f\u5426\u652f\u6301\u5b89\u88c5\u4f7f\u7528\u5176\u4ed6\u7248\u672cROS?"}),"\n",(0,r.jsx)(n.p,{children:"\u652f\u6301\u3002"}),"\n",(0,r.jsx)(n.p,{children:"RDK\u4e0a\u5b89\u88c5\u4e86tros.b\u4e4b\u540e\uff0c\u8fd8\u53ef\u4ee5\u5b89\u88c5\u4f7f\u7528\u5176\u4ed6\u7248\u672c\u7684ROS\uff0c\u5305\u62ecROS1\u3002"}),"\n",(0,r.jsxs)(n.admonition,{type:"caution",children:[(0,r.jsx)(n.mdxAdmonitionTitle,{children:(0,r.jsx)(n.strong,{children:"\u6ce8\u610f"})}),(0,r.jsx)(n.p,{children:"\u4e00\u4e2a\u7ec8\u7aef\u4e0b\u53ea\u80fdsource\u4e00\u4e2a\u7248\u672c\u7684ROS\u3002\u4f8b\u5982source\u4e86tros\u4e4b\u540e\u4e0d\u80fd\u518dsource ROS2 Foxy\u6216\u8005ROS1\uff0c\u6216\u8005source\u4e86ROS2 Foxy\u6216\u8005ROS1\u4e4b\u540e\u4e0d\u80fd\u518dsource tros\u3002"})]}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u5916tros.b\u4e0eROS foxy\u7248\u672c\u63a5\u53e3\u5b8c\u5168\u517c\u5bb9\uff0c\u4e0d\u9700\u8981\u5b89\u88c5ROS foxy\u4e5f\u80fd\u591f\u590d\u7528ROS\u4e30\u5bcc\u5de5\u5177\u5305\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"colcon\u7f16\u8bd1\u62a5\u9519",children:"colcon\u7f16\u8bd1\u62a5\u9519"}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u679c\u4f7f\u7528",(0,r.jsx)(n.code,{children:"colcon build"}),"\u547d\u4ee4\u7f16\u8bd1pkg\u62a5\u5982\u4e0b\u9519\u8bef\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"root@ubuntu:~/hobot_cam# colcon build\n[4.933s] ERROR:colcon.colcon_core.package_identification:Exception in package identification extension 'ros' in 'hobot_cam': module 'pyparsing' has no attribute 'operatorPrecedence'\nTraceback (most recent call last):\n  File \"/usr/lib/python3/dist-packages/catkin_pkg/condition.py\", line 23, in evaluate_condition\n    expr = _get_condition_expression()\n  File \"/usr/lib/python3/dist-packages/catkin_pkg/condition.py\", line 44, in _get_condition_expression\n    _condition_expression = pp.operatorPrecedence(\nAttributeError: module 'pyparsing' has no attribute 'operatorPrecedence'\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u53ef\u80fd\u662f",(0,r.jsx)(n.code,{children:"python3-catkin-pkg"}),"\u7248\u672c\u8f83\u4f4e\uff0ccondition\u529f\u80fd\u652f\u6301\u4e0d\u5b8c\u5907\u3002"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u89e3\u51b3\u65b9\u6cd5"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5347\u7ea7",(0,r.jsx)(n.code,{children:"python3-catkin-pkg"}),"\u7248\u672c\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'# \u6dfb\u52a0ROS apt\u6e90\nsudo apt update && sudo apt install curl gnupg2 lsb-release\nsudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key  -o /usr/share/keyrings/ros-archive-keyring.gpg\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(source /etc/os-release && echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/ros2.list > /dev/null\n\n# \u5220\u9664\u8001\u7248\u672c\nsudo apt remove python3-catkin-pkg\n\n# \u5b89\u88c5\u65b0\u7248\u672c\nsudo apt update\nsudo apt install python3-catkin-pkg\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u5982\u4f55\u67e5\u770btrosb\u7248\u672c",children:"\u5982\u4f55\u67e5\u770btros.b\u7248\u672c"}),"\n",(0,r.jsxs)(n.p,{children:["tros.b\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u767b\u5f55\u7cfb\u7edf\u5e76\u4f7f\u7528\u547d\u4ee4",(0,r.jsx)(n.code,{children:"apt show tros"}),"\u67e5\u770btros.b\u7248\u672c\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"2.x\u7248\u672c\uff08\u4ee52.0.0\u7248\u672c\u4e3a\u4f8b\u8bf4\u660e\uff09tros.b\u4fe1\u606f\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"root@ubuntu:~# apt show tros\nPackage: tros\nVersion: 2.0.0-20230523223852\nMaintainer: kairui.wang <kairui.wang@horizon.ai>\nInstalled-Size: unknown\nDepends: hobot-models-basic, tros-ros-base, tros-ai-msgs, tros-audio-control, tros-audio-msg, tros-audio-tracking, tros-body-tracking, tros-dnn-benchmark-example, tros-dnn-node, tros-dnn-node-example, tros-dnn-node-sample, tros-elevation-net, tros-gesture-control, tros-hand-gesture-detection, tros-hand-lmk-detection, tros-hbm-img-msgs, tros-hobot-app-xrrobot-body-tracking, tros-hobot-app-xrrobot-gesture-control, tros-hobot-codec, tros-hobot-cv, tros-hobot-falldown-detection, tros-hobot-hdmi, tros-hobot-image-publisher, tros-hobot-mot, tros-hobot-usb-cam, tros-image-subscribe-example, tros-img-msgs, tros-imu-sensor, tros-line-follower-model, tros-line-follower-perception, tros-mipi-cam, tros-mono2d-body-detection, tros-mono2d-trash-detection, tros-mono3d-indoor-detection, tros-parking-perception, tros-parking-search, tros-rgbd-sensor, tros-websocket, tros-xrrobot, tros-xrrobot-msgs\nDownload-Size: 980 B\nAPT-Manual-Installed: yes\nAPT-Sources: http://archive.d-robotics.cc/ubuntu-rdk focal/main arm64 Packages\nDescription: TogetheROS Bot\n\nroot@ubuntu:~#\n\n"})}),"\n",(0,r.jsx)(n.p,{children:"1.x\u7248\u672c\uff08\u4ee51.1.6\u7248\u672c\u4e3a\u4f8b\u8bf4\u660e\uff09tros.b\u4fe1\u606f\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"root@ubuntu:~# apt show tros\nPackage: tros\nVersion: 1.1.6\nSection: utils\nMaintainer: kairui.wang <kairui.wang@horizon.ai>\nInstalled-Size: 1,536 MB\nPre-Depends: hhp-verify\nDepends: symlinks, locales, hhp-verify, hobot-models-basic, hobot-arm64-libs (>= 1.1.6)\nApt-Sources: http://archive.d-robotics.cc/ubuntu-ports focal/main arm64 Packages\nDate: 2023-03-24_17-29-12\nDownload-Size: 116 MB\nAPT-Manual-Installed: yes\nDescription: TogetherROS\n\nN: There are 7 additional records. Please use the '-a' switch to see them.\nroot@ubuntu:~#\n\n"})}),"\n",(0,r.jsx)(n.h2,{id:"1x\u548c2x\u7248\u672ctrosb\u8bf4\u660e",children:"1.x\u548c2.x\u7248\u672ctros.b\u8bf4\u660e"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u548c\u7cfb\u7edf\u7248\u672c\u3001RDK\u5e73\u53f0\u786c\u4ef6\u5bf9\u5e94\u5173\u7cfb"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"2.x\u7248\u672ctros.b\uff1a\u4ec5\u652f\u63012.x\u7248\u672c\u7cfb\u7edf\uff1b\u652f\u6301RDK\u3001RDK Module\u7b49\u5168\u7cfb\u5217\u786c\u4ef6\uff1b\u672a\u6765tros.b\u7684\u65b0\u589e\u529f\u80fd\u5c06\u4f1a\u53d1\u5e03\u57282.x\u7248\u672ctros.b\uff1b\u4ee3\u7801\u6258\u7ba1\u5728github\u3002"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://developer.d-robotics.cc/api/v1/fileData/TogetherROS/index.html",children:"1.x\u7248\u672ctros.b"}),"\uff1a\u5386\u53f2\u7248\u672c\uff1b\u4ec5\u652f\u63011.x\u7248\u672c\u7cfb\u7edf\u548cRDK\uff1b\u672a\u67651.x\u7248\u672ctros.b\u4ec5\u53d1\u5e03\u95ee\u9898\u4fee\u590d\u7248\u672c\uff1b\u4ee3\u7801\u6258\u7ba1\u5728gitlab\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{type:"caution",children:[(0,r.jsx)(n.mdxAdmonitionTitle,{children:(0,r.jsx)(n.strong,{children:"\u6ce8\u610f"})}),(0,r.jsxs)(n.p,{children:["1.x\u7248\u672ctros.b\u65e0\u6cd5\u901a\u8fc7apt\u547d\u4ee4\u76f4\u63a5\u5347\u7ea7\u52302.x\u7248\u672ctros.b\uff0c\u9700\u8981\u4ee5\u70e7\u5f55\u955c\u50cf\u7684\u65b9\u5f0f\u91cd\u65b0",(0,r.jsx)(n.a,{href:"../01_Quick_start/install_os/rdk_x3.md",children:"\u5b89\u88c5\u5bf9\u5e94\u677f\u5361\u7cfb\u7edf"}),"\u540e\u518d\u5b89\u88c52.x\u7248\u672ctros.b\u3002"]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u529f\u80fd\u5dee\u5f02"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u57fa\u7840\u529f\u80fd\u76f8\u540c\u3002\u672a\u6765tros.b\u7684\u65b0\u589e\u529f\u80fd\u5c06\u4f1a\u53ea\u57fa\u4e8e2.x\u7248\u672c\u53d1\u5e03\u3002"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5b89\u88c5\u5305\u7ba1\u7406\u65b9\u5f0f\u4e0d\u540c\u30021.x\u7248\u672ctros.b\u53ea\u6709\u4e00\u4e2a\u5b89\u88c5\u5305\u6587\u4ef6\uff0c2.x\u7248\u672ctros.b\u6839\u636e\u529f\u80fd\u5206\u522b\u8fdb\u884c\u5b89\u88c5\u5305\u7684\u6253\u5305\u548c\u53d1\u5e03\u3002\u5bf9\u4e8e\u5f00\u53d1\u8005\uff0c\u4e0d\u9700\u8981\u5173\u5fc3\u5b89\u88c5\u5305\u7ba1\u7406\u65b9\u5f0f\u7684\u53d8\u5316\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u4f7f\u7528\u5dee\u5f02"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["apt\u5b89\u88c5\u548c\u5347\u7ea7\uff0c\u4ee5\u53ca\u6e90\u7801\u7f16\u8bd1\u65b9\u6cd5\u4e0d\u53d8\uff08\u8be6\u89c1",(0,r.jsx)(n.strong,{children:"\u7cfb\u7edf\u5b89\u88c5"}),"\u7ae0\u8282\uff09\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793a\u4f8b\u7684launch\u542f\u52a8\u811a\u672c\u4e0d\u540c"}),"\u3002\u5bf9\u542f\u52a8\u811a\u672c\u7684\u6587\u4ef6\u540d\u3001\u4f9d\u8d56\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u5e94\u7528\u793a\u4f8b\u5f15\u7528\u4f9d\u8d56\u6a21\u5757\u7684launch\u811a\u672c\u5e76\u914d\u7f6e\u53c2\u6570\u30022.x\u7248\u672ctros.b\u793a\u4f8b\u7684\u542f\u52a8\u811a\u672c\u53c2\u8003\u672c\u624b\u518c\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"web\u6d4f\u89c8\u5668\u6253\u5f00\u9875\u9762\u5931\u8d25",children:"WEB\u6d4f\u89c8\u5668\u6253\u5f00\u9875\u9762\u5931\u8d25"}),"\n",(0,r.jsxs)(n.p,{children:["\u95ee\u9898\u73b0\u8c61\uff1a\u6d4f\u89c8\u5668\u8f93\u5165",(0,r.jsx)(n.code,{children:"http://IP:8000"}),"\uff08IP\u4e3aRDK\u7684IP\u5730\u5740\uff09\u5730\u5740\u540e\u6253\u5f00\u9875\u9762\u5931\u8d25\uff0c\u5176\u53ef\u80fd\u539f\u56e0\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"nginx\u670d\u52a1\u5df2\u542f\u52a8"})}),"\n",(0,r.jsxs)(n.p,{children:["\u95ee\u9898\u539f\u56e0\uff1a\u5982\u679cRDK\u4e0a\u5df2\u7ecf\u542f\u52a8\u8fc7nginx\u670d\u52a1\uff0c\u4f8b\u5982\u8fd0\u884c\u8fc7RDK\u4e2d\u7684WEB\u5c55\u793a\u793a\u4f8b\uff08\u4e0d\u5e26\u7aef\u53e3\u53f7\uff0c\u6b64\u65f6\u5728\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165",(0,r.jsx)(n.code,{children:"http://IP"})," \u5730\u5740\u80fd\u591f\u6253\u5f00\u9875\u9762\uff09\uff0c\u518d\u542f\u52a8tros.b\u7684WEB\u5c55\u793a\u793a\u4f8b\u65f6\u4e0d\u4f1a\u518d\u542f\u52a8nginx\u670d\u52a1\uff0c\u56e0\u6b64\u6307\u5b9a\u7aef\u53e3\u53f7\u4f1a\u6253\u5f00\u9875\u9762\u5931\u8d25\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u89e3\u51b3\u65b9\u6cd5\uff1akill\u6389RDK\u4e0a\u6b63\u5728\u8fd0\u884c\u7684nginx\u8fdb\u7a0b\u6216\u8005\u91cd\u542fRDK\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"web\u6d4f\u89c8\u5668\u53ea\u663e\u793a\u56fe\u50cf\u65e0\u611f\u77e5\u7ed3\u679c\u6e32\u67d3",children:"WEB\u6d4f\u89c8\u5668\u53ea\u663e\u793a\u56fe\u50cf\uff0c\u65e0\u611f\u77e5\u7ed3\u679c\u6e32\u67d3"}),"\n",(0,r.jsxs)(n.p,{children:["1\u3001\u68c0\u67e5web node\u542f\u52a8\u547d\u4ee4\u662f\u5426\u5f00\u542f\u6e32\u67d3\u611f\u77e5\u7ed3\u679c\u529f\u80fd\u3002\u8be6\u7ec6\u53c2\u6570\u8bf4\u660e\u67e5\u770b",(0,r.jsx)(n.a,{href:"https://github.com/D-Robotics/hobot_websocket#%E5%8F%82%E6%95%B0",children:"hobot_websocket\u7684README"})]}),"\n",(0,r.jsx)(n.p,{children:"2\u3001\u68c0\u67e5web node\u542f\u52a8\u7ec8\u7aef\u662f\u5426\u6709\u9519\u8beflog\u8f93\u51fa\uff0c\u5982\u679c\u6709\u8bf7\u6309\u7167\u63d0\u793a\u4fe1\u606f\u8fdb\u884c\u6392\u67e5\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["3\u3001\u4f7f\u7528",(0,r.jsx)(n.code,{children:"ros2 topic echo [\u8bdd\u9898\u540d]"}),"\u547d\u4ee4\u786e\u8ba4\u662f\u5426\u6709\u611f\u77e5\u7ed3\u679c\u6570\u636e\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["4\u3001\u4f7f\u7528",(0,r.jsx)(n.code,{children:"ps -x"}),"\u547d\u4ee4\u68c0\u67e5\u662f\u5426\u6709\u542f\u52a8\u591a\u4e2aweb node\uff0c\u5982\u679c\u6709\u8bf7\u4f7f\u7528",(0,r.jsx)(n.code,{children:"kill"}),"\u547d\u4ee4\u505c\u6b62\u6240\u6709web node\u8fdb\u7a0b\u540e\u518d\u542f\u52a8\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"tros-humble\u7248\u672c\u4f7f\u7528\u96f6\u62f7\u8d1d",children:"TROS Humble\u7248\u672c\u4f7f\u7528\u96f6\u62f7\u8d1d"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Ubuntu\u7cfb\u7edf"})}),"\n",(0,r.jsxs)(n.p,{children:["\u53c2\u8003",(0,r.jsx)(n.a,{href:"https://github.com/D-Robotics/hobot_shm/blob/develop/README_cn.md",children:"hobot_shm"}),"\u7684\u4f7f\u7528\u8bf4\u660e\u3002"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Linux\u7cfb\u7edf"})}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8bbe\u7f6e\u96f6\u62f7\u8d1d\u73af\u5883\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"export RMW_IMPLEMENTATION=rmw_fastrtps_cpp\nexport FASTRTPS_DEFAULT_PROFILES_FILE=/opt/tros/humble/lib/hobot_shm/config/shm_fastdds.xml\nexport RMW_FASTRTPS_USE_QOS_FROM_XML=1\nexport ROS_DISABLE_LOANED_MESSAGES=0\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4ee5\u4e0a\u547d\u4ee4\u540c\u6837\u9002\u7528\u4e8eUbuntu\u7cfb\u7edf\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u73af\u5883\u53d8\u91cf\u7684\u8bf4\u660e\u53c2\u8003",(0,r.jsx)(n.a,{href:"https://fast-dds.docs.eprosima.com/en/latest/fastdds/ros2/ros2.html",children:"ROS 2 using Fast DDS middleware"}),"\u3002"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u68c0\u67e5\u662f\u5426\u4f7f\u7528\u96f6\u62f7\u8d1d\u4f20\u8f93\u6570\u636e"})}),"\n",(0,r.jsx)(n.p,{children:"\u542f\u52a8\u7a0b\u5e8f\u540e\uff0c\u4f7f\u7528\u547d\u4ee4\u67e5\u770b\u662f\u5426\u6709\u5185\u5b58\u6620\u5c04\u6587\u4ef6\u751f\u6210\uff0c\u5982\u679c\u6709\u8bf4\u660e\u5df2\u7ecf\u4f7f\u7528\u96f6\u62f7\u8d1d\u4f20\u8f93\u6570\u636e\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ll -thr /dev/shm/fast_datasharing* /dev/shm/fastrtps_*\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528\u4e3e\u4f8b\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8bbe\u7f6e\u96f6\u62f7\u8d1d\u73af\u5883"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@ubuntu:~# source /opt/tros/humble/setup.bash\nroot@ubuntu:~# export RMW_IMPLEMENTATION=rmw_fastrtps_cpp\nroot@ubuntu:~# export FASTRTPS_DEFAULT_PROFILES_FILE=/opt/tros/humble/lib/hobot_shm/config/shm_fastdds.xml\nroot@ubuntu:~# export RMW_FASTRTPS_USE_QOS_FROM_XML=1\nroot@ubuntu:~# export ROS_DISABLE_LOANED_MESSAGES=0\nroot@ubuntu:~# ll -thr /dev/shm/fast_datasharing* /dev/shm/fastrtps_*\nls: cannot access '/dev/shm/fast_datasharing*': No such file or directory\nls: cannot access '/dev/shm/fastrtps_*': No such file or directory\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230\uff0c\u53ea\u8bbe\u7f6e\u96f6\u62f7\u8d1d\u73af\u5883\u7684\u60c5\u51b5\u4e0b\u6ca1\u6709\u751f\u6210\u5185\u5b58\u6620\u5c04\u6587\u4ef6\uff0c\u56e0\u4e3a\u5185\u5b58\u6620\u5c04\u6587\u4ef6\u9700\u8981\u7531\u7a0b\u5e8f\u521b\u5efa\u3002"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8fd0\u884cmipi_cam node\u901a\u8fc7\u96f6\u62f7\u8d1d\u53d1\u5e03\u6570\u636e"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"source /opt/tros/humble/setup.bash\nros2 launch mipi_cam mipi_cam.launch.py mipi_video_device:=F37\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u518d\u6b21\u67e5\u770b\u5185\u5b58\u6620\u5c04\u6587\u4ef6"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@ubuntu:~# ll -thr /dev/shm/fast_datasharing* /dev/shm/fastrtps_*\n-rw-r--r-- 1 root root    0 Mar 26 14:01 /dev/shm/fastrtps_311b4cf8328b77f9_el\n-rw-r--r-- 1 root root 537K Mar 26 14:01 /dev/shm/fastrtps_311b4cf8328b77f9\n-rw-r--r-- 1 root root  36M Mar 26 14:01 /dev/shm/fast_datasharing_01.0f.1d.90.d8.ac.a8.ff.01.00.00.00_0.0.1f.3\n-rw-r--r-- 1 root root    0 Mar 26 14:17 /dev/shm/fastrtps_eef6d2045292439c_el\n-rw-r--r-- 1 root root 537K Mar 26 14:17 /dev/shm/fastrtps_eef6d2045292439c\n-rw-r--r-- 1 root root    0 Mar 26 14:17 /dev/shm/fastrtps_port17913_el\n-rw-r--r-- 1 root root  52K Mar 26 14:17 /dev/shm/fastrtps_port17913\n-rw-r--r-- 1 root root  36M Mar 26 14:17 /dev/shm/fast_datasharing_01.0f.1d.90.21.42.cb.90.01.00.00.00_0.0.1f.3\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u4ee5\u4e0alog\u663e\u793a\uff0c\u542f\u7528\u96f6\u62f7\u8d1d\u529f\u80fd\u5e76\u4e14\u8fd0\u884cmipi_cam node\u540e\uff0c\u5728/dev/shm\u76ee\u5f55\u4e0b\u51fa\u73b0\u4e86\u591a\u4e2a\u6587\u4ef6\uff0c\u8bf4\u660emipi_cam node",(0,r.jsx)(n.strong,{children:"\u652f\u6301\u4f7f\u7528\u96f6\u62f7\u8d1d"}),"\u53d1\u5e03\u6570\u636e\u3002"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u542f\u52a8\u96f6\u62f7\u8d1d\u6d88\u606f\u8ba2\u9605"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"source /opt/tros/humble/setup.bash\nros2 launch hobot_codec hobot_codec.launch.py codec_in_mode:=shared_mem codec_in_format:=nv12 codec_out_mode:=ros codec_out_format:=jpeg codec_sub_topic:=/hbmem_img codec_pub_topic:=/image_jpeg\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u518d\u6b21\u67e5\u770b\u5185\u5b58\u6620\u5c04\u6587\u4ef6"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@ubuntu:~# ll -thr /dev/shm/fast_datasharing* /dev/shm/fastrtps_*\n-rw-r--r-- 1 root root    0 Mar 26 14:01 /dev/shm/fastrtps_311b4cf8328b77f9_el\n-rw-r--r-- 1 root root 537K Mar 26 14:01 /dev/shm/fastrtps_311b4cf8328b77f9\n-rw-r--r-- 1 root root  36M Mar 26 14:01 /dev/shm/fast_datasharing_01.0f.1d.90.d8.ac.a8.ff.01.00.00.00_0.0.1f.3\n-rw-r--r-- 1 root root    0 Mar 26 14:17 /dev/shm/fastrtps_eef6d2045292439c_el\n-rw-r--r-- 1 root root 537K Mar 26 14:17 /dev/shm/fastrtps_eef6d2045292439c\n-rw-r--r-- 1 root root    0 Mar 26 14:17 /dev/shm/fastrtps_port17913_el\n-rw-r--r-- 1 root root  52K Mar 26 14:17 /dev/shm/fastrtps_port17913\n-rw-r--r-- 1 root root  36M Mar 26 14:17 /dev/shm/fast_datasharing_01.0f.1d.90.21.42.cb.90.01.00.00.00_0.0.1f.3\n-rw-r--r-- 1 root root    0 Mar 26 14:19 /dev/shm/fastrtps_dbda9faf3f77dee0_el\n-rw-r--r-- 1 root root 537K Mar 26 14:19 /dev/shm/fastrtps_dbda9faf3f77dee0\n-rw-r--r-- 1 root root    0 Mar 26 14:19 /dev/shm/fastrtps_port17915_el\n-rw-r--r-- 1 root root  52K Mar 26 14:19 /dev/shm/fastrtps_port17915\n-rw-r--r-- 1 root root  22K Mar 26 14:19 /dev/shm/fast_datasharing_01.0f.1d.90.23.5d.bd.63.01.00.00.00_0.0.1e.4\nroot@ubuntu:~#\nroot@ubuntu:~# lsof /dev/shm/fast_datasharing*\nCOMMAND       PID USER  FD   TYPE DEVICE SIZE/OFF     NODE NAME\nmipi_cam  2507297 root mem    REG   0,17 37327756 18131245 /dev/shm/fast_datasharing_01.0f.1d.90.21.42.cb.90.01.00.00.00_0.0.1f.3\nmipi_cam  2507297 root mem    REG   0,17    21656 18149313 /dev/shm/fast_datasharing_01.0f.1d.90.23.5d.bd.63.01.00.00.00_0.0.1e.4\nhobot_cod 2514211 root mem    REG   0,17 37327756 18131245 /dev/shm/fast_datasharing_01.0f.1d.90.21.42.cb.90.01.00.00.00_0.0.1f.3\nhobot_cod 2514211 root mem    REG   0,17    21656 18149313 /dev/shm/fast_datasharing_01.0f.1d.90.23.5d.bd.63.01.00.00.00_0.0.1e.4\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230\uff0c/dev/shm\u76ee\u5f55\u4e0b\u51fa\u73b0\u4e86\u65b0\u7684\u5185\u5b58\u6620\u5c04\u6587\u4ef6\uff0c\u5e76\u4e14\u8fd9\u4e9b\u6587\u4ef6\u88abmipi_cam\u548chobot_codec\u8fdb\u7a0b\u5360\u7528\uff0c\u8bf4\u660ehobot_codec node\u5728\u901a\u8fc7\u96f6\u62f7\u8d1d\u8ba2\u9605mipi_cam node\u53d1\u5e03\u7684\u6570\u636e\u3002"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u7981\u7528\u96f6\u62f7\u8d1d\u529f\u80fd"})}),"\n",(0,r.jsxs)(n.p,{children:["\u901a\u8fc7\u73af\u5883\u53d8\u91cf",(0,r.jsx)(n.code,{children:"ROS_DISABLE_LOANED_MESSAGES"}),"\u7981\u6b62\u96f6\u62f7\u8d1d\u529f\u80fd\uff0c\u5177\u6709\u6700\u9ad8\u63a7\u5236\u4f18\u5148\u7ea7\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"export ROS_DISABLE_LOANED_MESSAGES=1\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7981\u7528\u96f6\u62f7\u8d1d\u529f\u80fd\u914d\u7f6e\u8be6\u7ec6\u8bf4\u660e\u53c2\u8003",(0,r.jsx)(n.a,{href:"https://docs.ros.org/en/humble/How-To-Guides/Configure-ZeroCopy-loaned-messages.html#how-to-disable-loaned-messages",children:"how-to-disable-loaned-messages"}),"\u3002"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>l});var r=s(6540);const o={},t=r.createContext(o);function d(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);